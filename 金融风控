风险控制需要做什么？

与逾期率的绝对数值相比，对风险的控制能力要重要得多。借款人需要享受合理的额度和借款成本。出借人需要能够得到合理的风险调整后的收益。
达到这样的目标的核心是对每一笔借款违约概率的准确预测。
借款人：基于借款人的风险评估，优质的借款人能享受更低的借款成本和更高的额度。相对不那么优质的借款人则需要付出更高但还是合理的成本。
最劣质的借款人（甚至是欺诈借款人）则会被直接拒绝。
出借人：由于借款人承担的利息成本是基于其风险设置的，我们可以在大数上设定为未逾期的借款人所付出的利息减去逾期借款人带来的本金损失后依旧能够达到合理的
收益水平。
满足上述原则的过程我们称为“风险定价”。这可以作为所有金融的First Principle。


风控的核心是要准确预测每一笔借款违约概率。显而易见，这需要量化的工具，也就是模型。
假设x代表与借款人相关的各类数据，y代表是否违约（1=违约，0=未违约），则我们需要找到一个函数 f，使得f(x)=y。


互联网可以提供每个借款人的庞大的、碎片化的、种类繁多的信息。这里面包括用户提交的电子化信息
（如身份证、营业执照、房产证、学历证、工资单、社保，银行流水等），
第三方权威机构的查询信息（如公民身份证查询中心、教育部学历中心、法院诉讼信息查询中心等可查询信息），
还包括了海量的互联网碎片数据，如用户的电商交易信息、微博等社交网络数据，百度搜索引擎数据等。说到底，All data is credit data.
借款人的淘宝、京东、信用卡消费及还款、跨平台借款和投资、水电煤缴费、社保、学信、职业资格、通讯、住址等多维度数据，
并接入中国人民银行征信系统、居民身份系统等多个官方数据系统，再结合用户的社交行为数据、行业反欺诈云信息，对借款人的信用进行交叉验证、
实时授信评分。


传统金融的风险控制，主要是基于央行的征信数据及银行体系内的生态数据依靠人工审核完成。
目前互联网金融企业以及第三方征信公司在信用评估这方面比较常用的架构是规则引擎加信用评分卡。

在金融行业中一个天然而又典型的应用就是风险控制中对借款人进行信用评估。因此互联网金融企业依托互联网获取用户的网上消费行为数据、通讯数据、
信用卡数据、第三方征信数据等丰富而全面的数据，可以借助机器学习的手段搭建互联网金融企业的大数据风控系统。

除了在放贷前的信用审核外，互联网金融企业还可以借助机器学习完成传统金融企业无法做到的放贷过程中对借款人还贷能力进行实时监控，
以及时对后续可能无法还贷的人进行事前的干预，从而减少因坏账而带来的损失。
如果依托传统的信贷技术，事实上只能对存量市场做精耕，但是如果能结合一些新的数据源（特别是一个人的网上记录包括社交、交易行为、消费习惯等）
反欺诈策略实质就是探讨挖掘和模型技术来预测欺诈的概率。为企业发现和拒绝欺诈性交易提供科学依据


归纳为“5W”因素，即借款人(Who)、借款用途(Why)、还款期限(when)、担保物(What)及如何还款(How)
也有银行将其归纳为“5P”，即个人因素(Personal)、借款目的(Purpose)、偿还(Paymentl、 保障(Protection)和前景(Perspective)。


数据源：
人民银行征信报告
前海征信、宜信、聚信立、闪银





位置上报：
定位移动设备的位置有三种方式，第一种是通过运营商的3个基站定位，其误差大概在200米；第二种是通过手机App中的GPS位置信息定位，
大概误差为50米；第三种是通过WIFI定位，误差大概在3米到5米。在移动设备位置信息商业应用中，三种定位方式都被应用，室内以WIFI定位为主，
室外以GPS定位为主。

多个贷款用户在同一个小区居住的概率较低，同时贷款的概率更低。如果P2P平台发现短短几天内，在同一个GPS经纬度，出现了大量贷款请求。
并且用户信息很相似，申请者居住在偏远郊区，这些贷款请求的恶意欺诈可能性就较大。P2P公司可以将这些异常行为定义为高风险事件，
利用其他的信息进一步识别和验证，降低恶意欺诈的风险。

移动App的使用习惯和某些高风险App也可以帮助P2P企业识别出用户的高风险行为。如果用户经常在半夜2点频繁使用App，
经常使用一些具有较高风险的App（例如某男同性恋应用），其成为高风险客户的概率就较大。



设备上报：
是否root，机器的哪些参数被修改了，是否是模拟器


用户与用户属性对应关系校验：
单设备单日内贷款申请较多；或者多设备的关联识别为同一用户行为，利用不同设备多次进行贷款，将排查出的异常终端设备的信息提交给企业。


芝麻信用综合考虑了个人用户的信用历史，行为偏好，履约能力，身份特质，人脉关系等五个纬度的信息得出的。


-------------------------------------------------------------------------------------------

原由（为什么需要风控系统），方案（用什么方案实现风控），产出(风控系统的产出物是什么），
效果（如果评估风控系统对业务产生的正向效果）


风控系统在整体系统中以及在产品流程中的位置，角色是什么？
数据及行为的流入流出是什么？
什么情况下触发数据及行为的流入，这样做的目的是什么，数据或行为的流出是什么，如何验证效果？





风控与用户体验如何平衡？相关数据走势需要监控

比如事中风控（下单过程中的风控识别的时间只留了50ms）
比如频繁短信验证码，把体验弄得繁琐了



风控与金融业务（传统金融征信）
风控与安全（欺诈，作弊，攻击，伪造，盗取）





风控效果：
不同的业务形态，评估指标不同，可能是资损，可能是坏账率等，通过数据来说话。





开源风控系统：
https://github.com/droolsjbpm/drools





用户属性：（注意属性是可以伪造的）
ip，地理位置，设备id，身份证（实名），人脸，银行卡，账号，密码（不同的密码，交易密码，登录密码）
手机号，用户UID(各种身份相关的征，身份证，户口本，军官证，驾驶证，暂住证），通讯录，好友，

用户属性变化，是要关注的，比如换了设备，换了密码，需要触发鉴权

用户与用户属性对应关系的校验：
比如一个银行卡只能由一个用户绑定，一个手机号只属于一个用户，但一个用户可以有多张银行卡
用户与用户属性的对应关系还与边界限制有关，比如一个身份证号，最多有多少个手机号？

用户的边界限制：各种行为都有明确的边界。实际上就是计数器和计数器的边界（转账，提现，单日限制多少）
比如好友数上限是多少？
上传的通讯录上限是多少？
每日某个行为的上限是多少？
就是一个阈值




用户类别：黑名单，白名单，失信名单，各种名单





用户行为：
行为时间是什么（半夜想偷偷搞？）时间序列上一定是有明显趋势，明显波形和明显相关性的
行为频率是什么（是人还是机器人？）
行为逻辑时什么（想绕过系统漏洞？行为逻辑先后的规则校验和鉴权）
是否有行为伪造（安全方面）
系统趋势自检（日注册，日登陆，业务监控）
用户异常自检（显示出超过系统趋势一大截的用户，系统趋势是平均值，异于系统趋势就是要关注的异常用户）








风控与用户的人工接触通路（电话，短信，客服，邮件？风控管理后台对用户的相关操作）


对于误杀的应对措施是什么？








用户异常自检：
比如用户周发标，如果平均一周3次，那么一周15次的，就要注意是否是刷交易信用了
系统趋势，正常用户的通讯录条数，好友数，异常用户的相关数据





风控，鉴权

风控监控场景：
2.1 监控场景
本需求中需要监控的信息包括基于账户操作的信息和基于交易操作的信息两大类。



1.用户登陆信息（用户IP等，异常登录如何判断）
日登陆数，日注册数，某ip日平均登陆（打开次数），及每小时的度量
在线时长

注册，实名，肖像，绑卡


2.用户交易信息（发布/借入/借出等）
日借入借出笔数


4.用户操作信息 (添加/删除好友等) 
添加好友，删除好友，某个ip或设备的添加删除好友情况

5.用户接口访问信息（查找用户是否注册接口）
确认用户是否注册接口




为每个安装APP的设备生成唯一的设备指纹，
用于风控和大数据的设备跟踪等业务场景。





风控与鉴权的紧密配合（触发鉴权的条件是什么？）
风控规则的可配置性和可修改性。
触发风控后，已经明确知道是风险用户，那么相关行为与权限的限制怎么样做？
就是说风险用户的级别（黑名单，疑似风险用户，需要不同的限制和鉴权）








风控的：（条件，规则（），指标（计数器），事件（用户的一个行为操作））
         一个事件有多个规则，一个规则有多个条件，一个条件有一个指标

指标一般是个统计值或一个Flag(是否开关，比如换设备)
该值在事件完成或者发生时会进行更新










风控系统设计原则：
1）初期就要考虑的数据沉淀和再利用。风险判断的准确性要么看规则的合理性，要么看模型的准确性，
这两个都需要数据支撑进行评价和改良。

2）系统要提供效果评估评价的功能。他的点只关系到系统能不能做好，这个关系到风控业务能不能做好。

3）不要过度追求规则和模型的灵活性，适当降低架构设计的目标设定，灵活性是个无底洞。

4）风控系统只是辅助决策系统，不要串联到业务流程中，要旁路。









抽象出的系统：

1，用户相关性行为监控可视化，及异常报警，并提供异常接口调用
2，线上风控系统，
3，风控后台管理配置系统
4，鉴权系统
5，log与流水，在设计系统的时候很重要








接口防刷：
一，频率限制，某个来源的访问接口频率都界限
二，图形验证码
